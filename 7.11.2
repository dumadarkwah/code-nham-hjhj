#include <iostream>
#include <string>
using namespace std;

string compress(const string &s) {
    string result;
    int count = 1;
    for (int i = 1; i <= s.size(); i++) {
        if (i < s.size() && s[i] == s[i - 1]) count++;
        else {
            result += s[i - 1];
            if (count > 1) result += to_string(count);
            count = 1;
        }
    }
    return result;
}

string decompress(const string &s) {
    string result;
    for (int i = 0; i < s.size(); i++) {
        char c = s[i];
        string num = "";
        while (i + 1 < s.size() && isdigit(s[i + 1])) {
            num += s[++i];
        }
        int count = num.empty() ? 1 : stoi(num);
        result.append(count, c);
    }
    return result;
}

int main() {
    string s;
    cout << "Nhap chuoi: ";
    cin >> s;

    string compressed = compress(s);
    cout << "Chuoi nen: " << compressed << endl;
    cout << "Giai nen: " << decompress(compressed) << endl;
}


#include <iostream>
using namespace std;

int main() {
    int n;
    cout << "Nhap n: ";
    cin >> n;
    int a[n];
    for (int i = 0; i < n; i++) cin >> a[i];

    int maxSum = a[0], currentSum = a[0];
    int start = 0, end = 0, tempStart = 0;

    for (int i = 1; i < n; i++) {
        if (currentSum < 0) {
            currentSum = a[i];
            tempStart = i;
        } else {
            currentSum += a[i];
        }

        if (currentSum > maxSum) {
            maxSum = currentSum;
            start = tempStart;
            end = i;
        }
    }

    cout << "Tong lon nhat: " << maxSum << endl;
    cout << "Vi tri tu " << start << " den " << end << endl;
}


#include <iostream>
#include <vector>
#include <algorithm>
using namespace std;

struct Schedule {
    string name;
    int startHour, endHour;
};

int main() {
    int n;
    cout << "Nhap so luong lich: ";
    cin >> n;
    vector<Schedule> a(n);

    for (int i = 0; i < n; i++) {
        cout << "Nhap ten, gio bat dau va gio ket thuc: ";
        cin >> a[i].name >> a[i].startHour >> a[i].endHour;
    }

    sort(a.begin(), a.end(), [](auto &x, auto &y) {
        return x.startHour < y.startHour;
    });

    cout << "\n--- DANH SACH SAU KHI SAP XEP ---\n";
    for (auto &s : a)
        cout << s.name << ": " << s.startHour << " - " << s.endHour << endl;

    cout << "\n--- KIEM TRA XUNG DOT ---\n";
    bool found = false;
    for (int i = 0; i < n - 1; i++) {
        if (a[i].endHour > a[i + 1].startHour) {
            cout << "Xung dot: " << a[i].name << " va " << a[i + 1].name << endl;
            found = true;
        }
    }
    if (!found) cout << "Khong co xung dot nao!\n";
}


#include <iostream>
#include <fstream>
#include <map>
#include <sstream>
#include <cctype>
using namespace std;

string toLower(string s) {
    for (char &c : s) c = tolower(c);
    return s;
}

string cleanWord(string s) {
    string t;
    for (char c : s)
        if (isalnum(c)) t += tolower(c);
    return t;
}

int main() {
    ifstream fin("text.txt");
    if (!fin.is_open()) {
        cout << "Khong mo duoc file text.txt\n";
        return 0;
    }

    map<string, int> freq;
    string line, word;
    while (getline(fin, line)) {
        stringstream ss(line);
        while (ss >> word) {
            word = cleanWord(word);
            if (!word.empty()) freq[word]++;
        }
    }

    string maxWord;
    int maxCount = 0;
    for (auto &p : freq) {
        if (p.second > maxCount) {
            maxCount = p.second;
            maxWord = p.first;
        }
    }

    cout << "Tu xuat hien nhieu nhat: " << maxWord
         << " (" << maxCount << " lan)" << endl;
}



#include <iostream>
#include <vector>
#include <fstream>
#include <iomanip>
#include <map>
using namespace std;

struct Bill {
    string id, customer, item;
    int quantity;
    double price;
    double total() const { return quantity * price; }
};

int main() {
    int n;
    cout << "Nhap so luong hoa don: ";
    cin >> n;

    vector<Bill> bills(n);
    for (int i = 0; i < n; i++) {
        cout << "Nhap ma, ten khach, san pham, so luong, don gia:\n";
        cin >> bills[i].id >> bills[i].customer >> bills[i].item 
            >> bills[i].quantity >> bills[i].price;
    }

    double totalRevenue = 0;
    map<string, double> spendPerCustomer;

    cout << "\n--- DANH SACH HOA DON ---\n";
    cout << left << setw(10) << "MaHD" << setw(12) << "KhachHang"
         << setw(12) << "SanPham" << setw(8) << "SL"
         << setw(10) << "DonGia" << setw(10) << "TongTien" << endl;

    for (auto &b : bills) {
        double t = b.total();
        totalRevenue += t;
        spendPerCustomer[b.customer] += t;

        cout << left << setw(10) << b.id << setw(12) << b.customer
             << setw(12) << b.item << setw(8) << b.quantity
             << setw(10) << b.price << setw(10) << t << endl;
    }

    cout << "\nTong doanh thu: " << totalRevenue << endl;

    string topCustomer;
    double maxSpent = 0;
    for (auto &p : spendPerCustomer) {
        if (p.second > maxSpent) {
            maxSpent = p.second;
            topCustomer = p.first;
        }
    }

    cout << "Khach hang chi tieu nhieu nhat: " 
         << topCustomer << " (" << maxSpent << ")\n";

    // Ghi ra file
    ofstream fout("bills.txt");
    fout << left << setw(10) << "MaHD" << setw(12) << "KhachHang"
         << setw(12) << "SanPham" << setw(8) << "SL"
         << setw(10) << "DonGia" << setw(10) << "TongTien" << endl;
    for (auto &b : bills)
        fout << left << setw(10) << b.id << setw(12) << b.customer
             << setw(12) << b.item << setw(8) << b.quantity
             << setw(10) << b.price << setw(10) << b.total() << endl;
    fout.close();

    cout << "\nDa luu du lieu vao file bills.txt\n";
}
