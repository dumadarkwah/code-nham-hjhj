#include <iostream>
#include <string>
#include <fstream>
using namespace std;

class CauHoiTN {
 private:
  string noiDung;
  string dapAnA;
  string dapAnB;
  char dapAnDung;
 public:
  void nhap(); //Nguoi dung tu nhap cau hoi
  void ghiFile(ofstream &); //Ghi câu hỏi vào file
};

//Ham de nguoi dung nhap noi dung vao
void CauHoiTN::nhap() {
    cin.ignore(); //xoa bo dem
    cout<<"Nhap noi dung cau hoi: ";
    getline(cin, noiDung);
    cout<<"Nhap dap an A: ";
    getline(cin, dapAnA);
    cout<<"Nhap dap an B: ";
    getline(cin, dapAnB);
do {
    cout<<"Nhap dap an dung: ";
    cin>>dapAnDung;
    dapAnDung = toupper(dapAnDung);
}   while (dapAnDung != 'A' && dapAnDung != 'B');
}

//Ham de ghi vao file
void CauHoiTN::ghiFile(ofstream &f) {
    f<<noiDung<<endl;
    f<<dapAnA<<endl;
    f<<dapAnB<<endl;
    f<<dapAnDung<<endl;
    
}

int main() {
    cout<<"079306013703 - Nguyễn Châu Hải My"<<endl;
    int n;
    cout<<"Nhap so luong cau ban muon: ";
    cin>>n;
    
    CauHoiTN ds[100];
    for(int i = 0; i <= n; i++) {
        cout<<"Nhap noi dung cau thu "<<i+1<<": \n";
        ds[i].nhap();
    }
    
    ofstream fout("de TTN");
    for (int i = 0; i < n; i++) {
        ds[i].ghiFile(fout);
    }
    fout.close();
    cout << "Da ghi " << n << " cau hoi vao file de.TTN thanh cong.\n";

    return 0;
}
